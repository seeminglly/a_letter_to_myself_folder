{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
 
    <title>ë‚˜ì—ê²Œ ì“°ëŠ” í¸ì§€</title>
    <link rel="stylesheet" href="{% static 'css/routines/routines.css' %}">
    <style>
        body { font-family: Arial, sans-serif; max-width: none; margin: auto; }
        
        /* @font-face {
        font-family: 'KCC-Sonkeechung';
        src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2212@1.0/KCC-Sonkeechung.woff2') format('woff2');
        font-weight: normal;
        font-style: normal;
            }
        h1,h2,ul,button, label, p{
            font-family: 'KCC-Sonkeechung';
        } */
        
    </style>
</head>
<body>
    <header style="position: relative;">
        <h1><a href="{% url 'home' %}" style="text-decoration: none; color: #805a46;  font-family: 'KCC-Sonkeechung';">A Letter To Myself</a></h1>
    </header>
    <!-- í–„ë²„ê±° ë²„íŠ¼ -->
    <div class="hamburger-btn">
        <img src="{% static 'images/poststamp.png' %}" alt="ìš°í‘œìŠ¤í‹°ì»¤ UI" width="50px">
    </div>

    <!-- ë©”ë‰´ ë°”ê¹¥ì„ í´ë¦­í•˜ë©´ ë‹«í˜ -->
    <div class="page_cover"></div>

     <!-- ì‚¬ì´ë“œ ë©”ë‰´ -->
<div id="menu">
    <ul class="nav">
        <li><a href="{% url 'letters:writing' %}">í¸ì§€ ì“°ê¸°</a></li>
        <li><a href="{% url 'letters:letter_list' %}">í¸ì§€ ëª©ë¡</a></li>
        <li><a href="{% url 'routines:save_routine' %}">í¸ì§€ ë£¨í‹´</a></li>


        {% if user.is_authenticated %}
            <li><a href="{% url 'accounts:mypage' %}">ë§ˆì´í˜ì´ì§€</a></li>
            <li><a href="{% url 'accounts:logout' %}">{{ user.username }} (ë¡œê·¸ì•„ì›ƒ)</a></li>
        {% else %}
            <li><a href="{% url 'accounts:login' %}">ë¡œê·¸ì¸</a></li>
        {% endif %}

        <li><a href="{% url 'accounts:signup' %}">íšŒì›ê°€ì…</a></li>
    </ul>
</div>



    
    <div class="routine-buttons">
        <button onclick="setRoutine('weekly')">ğŸ“… ë§¤ì£¼/ë§¤ì›” í•œ í†µ</button>
        <button onclick="setRoutine('special')">ğŸ‰ íŠ¹ë³„í•œ ë‚ </button>
    </div>

    <div class="routine-container">
        <!-- ì™¼ìª½ ì˜ì—­: í¼ë“¤ ë¬¶ê¸° -->
        <div id="routine-form-wrapper">
            <!-- ë£¨í‹´ ì„¤ì • -->
            <div id="routine-section" class="section-card">
                <div class="routine-card">
                    <h2>ğŸ“® í¸ì§€ ë£¨í‹´ ì„¤ì •</h2>
                    <form method="POST" action="{% url 'routines:save_routine' %}">

                        {% csrf_token %}
    
                        <div class="form-group">
                            <label for="routineTitle">ë£¨í‹´ ì´ë¦„ ğŸŒ±</label>
                            <input type="text" id="routineTitle" name="title" placeholder="ì˜ˆ: ì›”ìš” í¸ì§€ ë£¨í‹´" />
                        </div>
    
                        <div class="form-group">
                            <label for="routine_type">ë°˜ë³µ ì£¼ê¸°</label>
                            <select id="routine_type" name="routine_type" onchange="toggleDateOptions()">
                                <option value="weekly">ë§¤ì£¼</option>
                                <option value="monthly">ë§¤ì›”</option>
                            </select>
                        </div>
    
                        <div class="form-group" id="weekly-options">
                            <label for="day-of-week">ìš”ì¼ ì„ íƒ</label>
                            <select id="day-of-week" name="day_of_week">
                                <option value="Monday">ì›”ìš”ì¼</option>
                                <option value="Tuesday">í™”ìš”ì¼</option>
                                <option value="Wednesday">ìˆ˜ìš”ì¼</option>
                                <option value="Thursday">ëª©ìš”ì¼</option>
                                <option value="Friday">ê¸ˆìš”ì¼</option>
                                <option value="Saturday">í† ìš”ì¼</option>
                                <option value="Sunday">ì¼ìš”ì¼</option>
                            </select>
                        </div>
    
                        <div class="form-group" id="monthly-options" style="display: none;">
                            <label for="day-of-month">ë‚ ì§œ ì„ íƒ</label>
                            <select id="day-of-month" name="day_of_month">
                                {% for day in days %}
                                    <option value="{{ day }}">{{ day }}ì¼</option>
                                {% endfor %}
                            </select>
                        </div>
    
                        <div class="form-group">
                            <label for="routineTime">ì‹œê°„ ì„ íƒ</label>
                            <input type="time" id="routineTime" name="routine_time">
                        </div>
    
                        <button type="submit">ğŸ’Œ ë£¨í‹´ ì¶”ê°€</button>
                    </form>
                </div>
            </div>
    
            <!-- ê¸°ë…ì¼ ì„¤ì • -->
            <div id="special-section" class="section-card" style="display: none;">
                <div class="special-date-part">
                    <form id="special-date-form" method="post">
                        {% csrf_token %}
                        <h2>ğŸ“… ê¸°ë…ì¼ ì„¤ì •</h2>
                        <div class="special-date-name">
                            <label for="special-date-name">ê¸°ë…ì¼ ì´ë¦„:</label>
                            <input type="text" id="special-date-name" name="name" placeholder="ì˜ˆ: ìƒì¼, ê²°í˜¼ê¸°ë…ì¼" required>
                        </div>
                        <label for="special-date">ë‚ ì§œ ì„ íƒ:</label>
                        <input type="date" id="special-date" name="date">
                        <button type="submit" onclick="add_specialDay()">ì €ì¥</button>
                    </form>
                </div>
            </div>
        </div>
    
        <!-- ì˜¤ë¥¸ìª½ ì˜ì—­: ë£¨í‹´/ê¸°ë…ì¼ ë¦¬ìŠ¤íŠ¸ -->
        <div id="routine-list-wrapper" class="section-card">
            <div class="routine-list-box">
                <h2>ğŸ“– ë‚´ í¸ì§€ ë£¨í‹´</h2>
    
                <p style="font-weight: bold;">ë°ì¼ë¦¬/ë¨¼ìŠ¬ë¦¬ ë£¨í‹´</p>
                {% if routines %}
                    <ul>
                        {% for routine in routines %}
                            <li class="routineList" data-id="{{ routine.id }}" style="list-style-type: none;">
                                {% if routine.routine_type == 'weekly' %}
                                    {{ routine.title }} - ë§¤ì£¼ {{ routine.day_of_week }} : {{ routine.time }}
                                {% else %}
                                    {{ routine.title }} - {{ routine.day_of_month }}ì¼: {{ routine.time }}
                                {% endif %}
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>ğŸ“­ ì•„ì§ ë“±ë¡ëœ ë£¨í‹´ì´ ì—†ìŠµë‹ˆë‹¤</p>
                {% endif %}
    
                <p style="font-weight: bold;">íŠ¹ë³„í•œ ë‚ </p>
                {% if specialDays %}
                    <ul>
                        {% for specialDay in specialDays %}
                            <li class="specialList" style="list-style-type: none;">
                                {{ specialDay.name }} - {{ specialDay.date }}
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>ğŸ“­ ì•„ì§ ë“±ë¡ëœ ê¸°ë…ì¼ì´ ì—†ìŠµë‹ˆë‹¤</p>
                {% endif %}
            </div>
        </div>
    </div>
    


    <!-- <div class="mood-list">
        <h2>ğŸ˜Š ì˜¤ëŠ˜ ê¸°ë¶„ì€? </h2>
        <label for="mood">ì˜¤ëŠ˜ì˜ ê¸°ë¶„ì„ ì„ íƒí•˜ì„¸ìš”:</label>
        <select name="mood" id="mood" onchange="redirectToWritePage()">
            <option value="happy">ğŸ˜Š í–‰ë³µ</option>
            <option value="sad">ğŸ˜¢ ìŠ¬í””</option>
            <option value="angry">ğŸ˜¡ í™”ë‚¨</option>
            <option value="worried">ğŸ¤” ê³ ë¯¼</option>
            <option value="diary">ğŸ“ ì¼ê¸°</option>
        </select>
    </div> -->
    
    
    <!-- JavaScript ì—°ê²° -->
    <script src="{% static 'js/script.js' %}"></script>

</body>
</html>



 <!-- {% load static %}
 <form id="routineForm">
    {% csrf_token %}
    <label for="routine-type">ë£¨í‹´ ì„ íƒ:</label>
    <select id="routine-type" name="routine_type" onchange="toggleDateOptions()">
        <option value="weekly">ë§¤ì£¼</option>
        <option value="monthly">ë§¤ì›”</option>
    </select>

     ìš”ì¼ ì„ íƒ
     <div id="weekly-options">
        <label for="day-of-week">ìš”ì¼ ì„ íƒ:</label>
        <select id="day-of-week" name="day_of_week">
            <option value="Monday">ì›”ìš”ì¼</option>
            <option value="Tuesday">í™”ìš”ì¼</option>
            <option value="Wednesday">ìˆ˜ìš”ì¼</option>
            <option value="Thursday">ëª©ìš”ì¼</option>
            <option value="Friday">ê¸ˆìš”ì¼</option>
            <option value="Saturday">í† ìš”ì¼</option>
            <option value="Sunday">ì¼ìš”ì¼</option>
        </select>
    </div>

    ë‚ ì§œ ì„ íƒ
    <div id="monthly-options" style="display: none;">
        <label for="day-of-month">ë‚ ì§œ ì„ íƒ:</label>
        <select id="day-of-month" name="day_of_month">
            {% for day in days %}
                <option value="{{ day }}">{{ day }}ì¼</option>
            {% endfor %}
        </select>
        
    </div>

    <label for="time">ì‹œê°„ ì„ íƒ:</label>
    <input type="time" id="time" name="time">

    <button type="submit">ì €ì¥</button>
</form>
<script src="{% static 'js/script.js' %}"></script>
 
